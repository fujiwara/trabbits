{
    "upstreams": [
        {
            "name": "primary",
            "host": "localhost",
            "port": 5672
        },
        {
            "name": "secondary",
            "cluster": {
                "nodes": [
                    {
                        "host": "localhost",
                        "port": 5673
                    },
                    {
                        "host": "localhost",
                        "port": 5674
                    },
                    {
                        "host": "localhost",
                        "port": 5675
                    },
                    {
                        "host": "localhost",
                        "port": 5676
                    },
                    {
                        "host": "localhost",
                        "port": 5677
                    }
                ]
            },
            "health_check": {
                "interval": "3s",
                "timeout": "2s",
                "unhealthy_threshold": 2,
                "recovery_interval": "10s",
                "username": "healthcheck",
                "password": "${RABBITMQ_HEALTH_PASS}"
            },
            "routing": {
                "key_patterns": [
                    "test.queue.another.*"
                ]
            },
            "queue_attributes": {
                "durable": true,
                "auto_delete": false,
                "exclusive": false,
                "arguments": {
                    "x-queue-type": "quorum"
                }
            }
        }
    ]
}
